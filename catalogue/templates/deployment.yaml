apiVersion: apps/v1
kind: Deployment
metadata:
 name: catalogue
 namespace: roboshop
 labels:
  component: catalogue
  tier: backend
  environment: dev
spec:
 replicas: 1
 selector:
  matchLabels: 
    component: catalogue
    tier: backend
    environment: dev
 template:
  metadata:
   labels:
    component: catalogue
    tier: backend
    environment: dev   
  spec: 
   containers:
    - name: catalogue
      image: {{ .Values.deployment.imageVersion }}
      resources:
        requests:
          cpu: "50m"
          memory: "128Mi"
        limits:
          cpu: "100m"
          memory: "256Mi"    
      envFrom:
       - configMapRef:
          name: catalogue     